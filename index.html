<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BitStream Image Share - Refactored</title>
  <meta name="description" content="Share images via URL without hosting - all processing is done in your browser.">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>🚀 BitStream Image Share</h1>
    
    <div id="scriptError" class="script-error" style="display: none;">
      </div>
    
    <div class="project-info">
      <h2>Project Vision</h2>
      <p>Share images through URLs without any hosting. Images are efficiently encoded directly into the URL path using an optimized bit-stream approach.</p>
    </div>
    
    <div class="upload-zone" id="dropZone" role="button" tabindex="0" aria-label="Upload image by drag and drop or click to select">
      <div class="upload-icon">📸</div>
      <p><strong>Drag & drop an image here</strong></p>
      <p>or</p>
      <input type="file" id="fileInput" class="file-input" accept="image/jpeg,image/png,image/webp,image/gif,image/bmp,image/svg+xml,image/heic,image/heif,image/avif" aria-label="Select image file">
      <button class="select-button" id="selectButton">
        📁 Select Image
      </button>
      <p class="hint">Maximum URL length: <span id="maxUrlLength">...</span> characters</p>
    </div>
    
    <div id="status" class="status" role="alert" aria-live="polite"></div>
    
    <div class="progress-container" id="progressContainer" style="display: none;">
      <div class="progress">
        <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <div class="progress-text">
        <span id="progressText">0%</span>
        <button id="cancelButton">❌ Cancel</button>
      </div>
    </div>
    
    <div id="imageStats" class="image-stats" role="region" aria-label="Image processing statistics" style="display: none;">
      <h3>📊 Processing Statistics</h3>
      <div class="stats-grid">
        <div class="stat-item"><div class="stat-label">Original Size</div><div class="stat-value" id="originalSize">-</div></div>
        <div class="stat-item"><div class="stat-label">Processed Size</div><div class="stat-value" id="processedSize">-</div></div>
        <div class="stat-item"><div class="stat-label">Original Format</div><div class="stat-value" id="originalFormat">-</div></div>
        <div class="stat-item"><div class="stat-label">Final Format</div><div class="stat-value" id="finalFormat">-</div></div>
        <div class="stat-item"><div class="stat-label">Compression</div><div class="stat-value" id="compressionRatio">-</div></div>
        <div class="stat-item"><div class="stat-label">Time</div><div class="stat-value" id="elapsedTime">-</div></div>
      </div>
    </div>
    
    <img id="preview" class="preview" alt="Image preview" loading="lazy" style="display: none;">
    
    <div id="resultContainer" class="result-container" role="region" aria-label="Generated URL result" style="display: none;">
      <h3>🎉 Share Your Image</h3>
      <div id="resultUrl" class="result-url" role="textbox" aria-readonly="true"></div>
      <div class="button-container">
        <button id="copyButton" class="copy-button">📋 Copy URL</button>
        <button id="openButton" class="open-button">🔗 Open in New Tab</button>
      </div>
    </div>
  </div>

  <script src="config.js"></script>
  <script src="EventBus.js"></script>
  <script src="SharedUtils.js"></script>
  <script src="ConfigValidator.js"></script>
  <script src="ErrorHandler.js"></script>
  <script src="ResourcePool.js"></script>
  <script src="UnifiedPerformanceMonitor.js"></script>
  <script src="UIManager.js"></script>
  
  <script src="WebGLManager.js"></script>
  <script src="DirectBaseEncoder.js"></script>
  <script src="GPUBitStreamEncoder.js"></script>
  <script src="GPUBitStreamDecoder.js"></script>
  <script src="ImageAnalyzer.js"></script>
  <script src="compressionEngine.js"></script>
  <script src="imageProcessor.js"></script>
  <script src="imageViewer.js"></script>
  
  <script src="SystemManager.js"></script>
</body>
</html>
